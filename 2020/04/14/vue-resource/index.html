<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>vue-resource与axios - Jenson&#039;s blog</title><meta description="Vue.js是数据驱动的，不推荐直接操作DOM。因此Vue要实现异步加载可以使用vue-resource或axios，而不需要使用jQuery的DOM选择器。Vue.js2.0版本及以后推荐axios来完成ajax请求。"><meta property="og:type" content="blog"><meta property="og:title" content="vue-resource与axios"><meta property="og:url" content="http://yoursite.com/"><meta property="og:site_name" content="Jenson&#039;s blog"><meta property="og:description" content="Vue.js是数据驱动的，不推荐直接操作DOM。因此Vue要实现异步加载可以使用vue-resource或axios，而不需要使用jQuery的DOM选择器。Vue.js2.0版本及以后推荐axios来完成ajax请求。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://yoursite.com/img/og_image.png"><meta property="article:published_time" content="2020-04-14T12:25:06.000Z"><meta property="article:modified_time" content="2020-04-14T14:32:11.193Z"><meta property="article:author" content="Jenson"><meta property="article:tag" content="vue"><meta property="article:tag" content="ajax"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com/2020/04/14/vue-resource/"},"headline":"Jenson's blog","image":["http://yoursite.com/img/og_image.png"],"datePublished":"2020-04-14T12:25:06.000Z","dateModified":"2020-04-14T14:32:11.193Z","author":{"@type":"Person","name":"Jenson"},"description":"Vue.js是数据驱动的，不推荐直接操作DOM。因此Vue要实现异步加载可以使用vue-resource或axios，而不需要使用jQuery的DOM选择器。Vue.js2.0版本及以后推荐axios来完成ajax请求。"}</script><link rel="canonical" href="http://yoursite.com/2020/04/14/vue-resource/"><link rel="icon" href="/img/a.jpg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><link rel="alternate" href="/atom.xml" title="Jenson's blog" type="application/atom+xml">
</head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo1.jpg" alt="Jenson&#039;s blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/jensondong"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-14T12:25:06.000Z" title="2020-04-14T12:25:06.000Z">2020-04-14</time><span class="level-item"><a class="link-muted" href="/categories/Vue/">Vue</a></span><span class="level-item">25 分钟 读完 (大约 3703 个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">vue-resource与axios</h1><div class="content"><p>Vue.js是数据驱动的，不推荐直接操作DOM。因此Vue要实现异步加载可以使用vue-resource或axios，而不需要使用jQuery的DOM选择器。Vue.js2.0版本及以后推荐axios来完成ajax请求。<a id="more"></a></p>
<h2 id="vue-resource"><a href="#vue-resource" class="headerlink" title="vue-resource"></a>vue-resource</h2><p>vue-resource是Vue.js的一款插件，它可以通过XMLHttpRequest或JSONP发起请求并处理响应。也就是说，$.ajax能做的事情，vue-resource插件一样也能做到，而且vue-resource的API更为简洁。另外，vue-resource还提供了非常有用的inteceptor功能，使用inteceptor可以在请求前和请求后附加一些行为，比如使用inteceptor在ajax请求时显示loading界面。</p>
<h5 id="vue-resource特点"><a href="#vue-resource特点" class="headerlink" title="vue-resource特点"></a>vue-resource特点</h5><p>vue-resource插件具有以下特点：</p>
<ul>
<li><p>体积小<br>vue-resource非常小巧，在压缩以后只有大约12KB，服务端启用gzip压缩后只有4.5KB大小，这远比jQuery的体积要小得多。</p>
</li>
<li><p>支持主流的浏览器<br>和Vue.js一样，vue-resource除了不支持IE 9以下的浏览器，其他主流的浏览器都支持。</p>
</li>
<li><p>支持Promise API和URI Templates<br>Promise是ES6的特性，Promise的中文含义为“先知”，Promise对象用于异步计算。</p>
</li>
</ul>
<p>URI Templates表示URI模板，有些类似于ASP.NET MVC的路由模板。</p>
<ul>
<li>支持拦截器<br>拦截器是全局的，拦截器可以在请求发送前和发送请求后做一些处理。</li>
</ul>
<p>拦截器在一些场景下会非常有用，比如请求发送前在headers中设置access_token，或者在请求失败时，提供共通的处理方式。</p>
<h5 id="vue-resource使用"><a href="#vue-resource使用" class="headerlink" title="vue-resource使用"></a>vue-resource使用</h5><p>1、引入vue-resource</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src&#x3D;&quot;js&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt; &lt;script src&#x3D;&quot;js&#x2F;vue-resource.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<p>2、引入vue-resource后，可以基于全局的Vue对象使用http，也可以基于某个Vue实例使用http。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 基于全局Vue对象使用http </span><br><span class="line">Vue.http.get(&#39;&#x2F;someUrl&#39;, [options]).then(successCallback, errorCallback); </span><br><span class="line">Vue.http.post(&#39;&#x2F;someUrl&#39;, [body], [options]).then(successCallback, errorCallback); </span><br><span class="line">&#x2F;&#x2F; 在一个Vue实例内使用http </span><br><span class="line">this.$http.get(&#39;&#x2F;someUrl&#39;, [options]).then(successCallback, errorCallback); </span><br><span class="line">this.$http.post(&#39;&#x2F;someUrl&#39;, [body], [options]).then(successCallback, errorCallback);</span><br></pre></td></tr></table></figure>
<p>在发送请求后，使用then方法来处理响应结果，then方法有两个参数，第一个参数是响应成功时的回调函数，第二个参数是响应失败时得回调函数。</p>
<p>3、then方法的回调函数也有两种写法，第一种是传统的函数写法，第二种是更为简洁的ES 6的Lambda写法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 传统写法 </span><br><span class="line">this.$http.get(&#39;&#x2F;someUrl&#39;, [options]).then(function(response)&#123;</span><br><span class="line">	&#x2F;&#x2F; 响应成功回调 </span><br><span class="line">&#125;, function(response)&#123; </span><br><span class="line">	&#x2F;&#x2F; 响应错误回调 </span><br><span class="line">&#125;); </span><br><span class="line">&#x2F;&#x2F; Lambda写法 </span><br><span class="line">this.$http.get(&#39;&#x2F;someUrl&#39;, [options]).then((response) &#x3D;&gt; &#123; </span><br><span class="line">	&#x2F;&#x2F; 响应成功回调 </span><br><span class="line">&#125;, (response) &#x3D;&gt; &#123; </span><br><span class="line">	&#x2F;&#x2F; 响应错误回调 </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>4、支持的HTTP方法</p>
<p>vue-resource的请求API是按照REST风格设计的，它提供了7种请求API：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">get(url, [options])</span><br><span class="line">head(url, [options])</span><br><span class="line">delete(url, [options])</span><br><span class="line">jsonp(url, [options])</span><br><span class="line">post(url, [body], [options])</span><br><span class="line">put(url, [body], [options])</span><br><span class="line">patch(url, [body], [options])</span><br></pre></td></tr></table></figure>
<p>除了jsonp以外，另外6种的API名称是标准的HTTP方法。当服务端使用REST API时，客户端的编码风格和服务端的编码风格近乎一致，这可以减少前端和后端开发人员的沟通成本。</p>
<p>5、emulateHTTP的作用</p>
<p>如果Web服务器无法处理PUT, PATCH和DELETE这种REST风格的请求，你可以启用enulateHTTP现象。启用该选项后，请求会以普通的POST方法发出，并且HTTP头信息的X-HTTP-Method-Override属性会设置为实际的HTTP方法。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.http.options.emulateHTTP &#x3D; true;</span><br></pre></td></tr></table></figure>
<p>6、emulateJSON的作用</p>
<p>如果Web服务器无法处理编码为application/json的请求，你可以启用emulateJSON选项。启用该选项后，请求会以application/x-www-form-urlencoded作为MIME type，就像普通的HTML表单一样。 Vue.http.options.emulateJSON = true;</p>
<p>vue-resource是一个非常轻量的用于处理HTTP请求的插件，它提供了两种方式来处理HTTP请求：</p>
<ul>
<li>使用Vue.http或this.$http</li>
<li>使用Vue.resource或this.$resource</li>
</ul>
<hr>
<h2 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h2><p> vue2.0之后，就不再对vue-resource更新，而是推荐使用axios。基于Promise的HTTP请求客户端，可同时在浏览器和Node.js中使用.</p>
<h5 id="功能特性"><a href="#功能特性" class="headerlink" title="功能特性"></a>功能特性</h5><ul>
<li>在浏览器发送 XMLHttpRequests 请求</li>
<li>在 node.js 中发送 http请求</li>
<li>支持 Promise API</li>
<li>拦截请求和响应</li>
<li>转换请求和响应数据</li>
<li>取消请求</li>
<li>自动转换 JSON 数据</li>
<li>客户端支持保护安全免受 CSRF/XSRF 攻击</li>
</ul>
<h5 id="axios的使用"><a href="#axios的使用" class="headerlink" title="axios的使用"></a>axios的使用</h5><ul>
<li>安装 axios<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install axios</span><br></pre></td></tr></table></figure>
在要使用的文件中引入axios<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import axios from &#39;axios&#39;</span><br></pre></td></tr></table></figure></li>
<li>GET请求<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 向具有指定ID的用户发出请求</span><br><span class="line">axios.get(&#39;&#x2F;user?ID&#x3D;12345&#39;)</span><br><span class="line">.then(function (response) &#123;</span><br><span class="line">console.log(response);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(function (error) &#123;</span><br><span class="line">console.log(error);</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; 也可以通过 params 对象传递参数</span><br><span class="line">axios.get(&#39;&#x2F;user&#39;, &#123;</span><br><span class="line">params: &#123;</span><br><span class="line">ID: 12345</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">.then(function (response) &#123;</span><br><span class="line">console.log(response);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(function (error) &#123;</span><br><span class="line">console.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
<li>POST请求<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">axios.post(&#39;&#x2F;user&#39;, &#123;</span><br><span class="line">firstName: &#39;Fred&#39;,</span><br><span class="line">lastName: &#39;Flintstone&#39;</span><br><span class="line">&#125;)</span><br><span class="line">.then(function (response) &#123;</span><br><span class="line">console.log(response);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(function (error) &#123;</span><br><span class="line">console.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
<li>执行多个并发请求<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function getUserAccount() &#123;</span><br><span class="line">return axios.get(&#39;&#x2F;user&#x2F;12345&#39;);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">function getUserPermissions() &#123;</span><br><span class="line">return axios.get(&#39;&#x2F;user&#x2F;12345&#x2F;permissions&#39;);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">axios.all([getUserAccount(), getUserPermissions()])</span><br><span class="line">.then(axios.spread(function (acct, perms) &#123;</span><br><span class="line">&#x2F;&#x2F;两个请求现已完成</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure></li>
<li>axios API：可以通过将相关配置传递给 axios 来进行请求。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">axios(config)</span><br><span class="line">&#x2F;&#x2F; 发送一个 POST 请求</span><br><span class="line">axios(&#123;</span><br><span class="line">method: &#39;post&#39;,</span><br><span class="line">url: &#39;&#x2F;user&#x2F;12345&#39;,</span><br><span class="line">data: &#123;</span><br><span class="line">firstName: &#39;Fred&#39;,</span><br><span class="line">lastName: &#39;Flintstone&#39;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line">axios(url[, config])</span><br><span class="line">&#x2F;&#x2F; 发送一个 GET 请求 (GET请求是默认请求模式)</span><br><span class="line">axios(&#39;&#x2F;user&#x2F;12345&#39;);</span><br></pre></td></tr></table></figure></li>
<li>请求方法别名：</li>
</ul>
<p>为了方便起见，已经为所有支持的请求方法提供了别名。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axios.request（config）</span><br><span class="line">axios.get（url [，config]）</span><br><span class="line">axios.delete（url [，config]）</span><br><span class="line">axios.head（url [，config]）</span><br><span class="line">axios.post（url [，data [，config]]）</span><br><span class="line">axios.put（url [，data [，config]]）</span><br><span class="line">axios.patch（url [，data [，config]]）</span><br></pre></td></tr></table></figure>
<p>注意:当使用别名方法时，不需要在config中指定url，method和data属性。<br>并发<br>帮助函数处理并发请求。<br>axios.all（iterable）<br>axios.spread（callback）</p>
<p>创建实例<br>也可以使用自定义配置创建axios的新实例。<br>axios.create（[config]）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var instance &#x3D; axios.create(&#123;</span><br><span class="line">baseURL: &#39;https:&#x2F;&#x2F;some-domain.com&#x2F;api&#x2F;&#39;,</span><br><span class="line">timeout: 1000,</span><br><span class="line">headers: &#123;&#39;X-Custom-Header&#39;: &#39;foobar&#39;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li><p>实例方法<br>可用的实例方法如下所示。 指定的配置将与实例配置合并。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axios＃request（config）</span><br><span class="line">axios＃get（url [，config]）</span><br><span class="line">axios＃delete（url [，config]）</span><br><span class="line">axios＃head（url [，config]）</span><br><span class="line">axios＃post（url [，data [，config]]）</span><br><span class="line">axios＃put（url [，data [，config]]）</span><br><span class="line">axios＃patch（url [，data [，config]]）</span><br></pre></td></tr></table></figure></li>
<li><p>请求配置<br>这些是用于发出请求的可用配置选项。 只有url是必需的。 如果未指定方法，请求将默认为GET。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&#x2F;&#x2F; &#96;url&#96;是将用于请求的服务器URL</span><br><span class="line">url: &#39;&#x2F;user&#39;,</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;method&#96;是发出请求时使用的请求方法</span><br><span class="line">method: &#39;get&#39;, &#x2F;&#x2F; 默认</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;baseURL&#96;将被添加到&#96;url&#96;前面，除非&#96;url&#96;是绝对的。</span><br><span class="line">&#x2F;&#x2F; 可以方便地为 axios 的实例设置&#96;baseURL&#96;，以便将相对 URL 传递给该实例的方法。</span><br><span class="line">baseURL: &#39;https:&#x2F;&#x2F;some-domain.com&#x2F;api&#x2F;&#39;,</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;transformRequest&#96;允许在请求数据发送到服务器之前对其进行更改</span><br><span class="line">&#x2F;&#x2F; 这只适用于请求方法&#39;PUT&#39;，&#39;POST&#39;和&#39;PATCH&#39;</span><br><span class="line">&#x2F;&#x2F; 数组中的最后一个函数必须返回一个字符串，一个 ArrayBuffer或一个 Stream</span><br><span class="line"> </span><br><span class="line">transformRequest: [function (data) &#123;</span><br><span class="line">&#x2F;&#x2F; 做任何你想要的数据转换</span><br><span class="line"> </span><br><span class="line">return data;</span><br><span class="line">&#125;],</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;transformResponse&#96;允许在 then &#x2F; catch之前对响应数据进行更改</span><br><span class="line">transformResponse: [function (data) &#123;</span><br><span class="line">&#x2F;&#x2F; Do whatever you want to transform the data</span><br><span class="line"> </span><br><span class="line">return data;</span><br><span class="line">&#125;],</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;headers&#96;是要发送的自定义 headers</span><br><span class="line">headers: &#123;&#39;X-Requested-With&#39;: &#39;XMLHttpRequest&#39;&#125;,</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;params&#96;是要与请求一起发送的URL参数</span><br><span class="line">&#x2F;&#x2F; 必须是纯对象或URLSearchParams对象</span><br><span class="line">params: &#123;</span><br><span class="line">ID: 12345</span><br><span class="line">&#125;,</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;paramsSerializer&#96;是一个可选的函数，负责序列化&#96;params&#96;</span><br><span class="line">&#x2F;&#x2F; (e.g. https:&#x2F;&#x2F;www.npmjs.com&#x2F;package&#x2F;qs, http:&#x2F;&#x2F;api.jquery.com&#x2F;jquery.param&#x2F;)</span><br><span class="line">paramsSerializer: function(params) &#123;</span><br><span class="line">return Qs.stringify(params, &#123;arrayFormat: &#39;brackets&#39;&#125;)</span><br><span class="line">&#125;,</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;data&#96;是要作为请求主体发送的数据</span><br><span class="line">&#x2F;&#x2F; 仅适用于请求方法“PUT”，“POST”和“PATCH”</span><br><span class="line">&#x2F;&#x2F; 当没有设置&#96;transformRequest&#96;时，必须是以下类型之一：</span><br><span class="line">&#x2F;&#x2F; - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams</span><br><span class="line">&#x2F;&#x2F; - Browser only: FormData, File, Blob</span><br><span class="line">&#x2F;&#x2F; - Node only: Stream</span><br><span class="line">data: &#123;</span><br><span class="line">firstName: &#39;Fred&#39;</span><br><span class="line">&#125;,</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;timeout&#96;指定请求超时之前的毫秒数。</span><br><span class="line">&#x2F;&#x2F; 如果请求的时间超过&#39;timeout&#39;，请求将被中止。</span><br><span class="line">timeout: 1000,</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;withCredentials&#96;指示是否跨站点访问控制请求</span><br><span class="line">&#x2F;&#x2F; should be made using credentials</span><br><span class="line">withCredentials: false, &#x2F;&#x2F; default</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;adapter&#39;允许自定义处理请求，这使得测试更容易。</span><br><span class="line">&#x2F;&#x2F; 返回一个promise并提供一个有效的响应（参见[response docs]（＃response-api））</span><br><span class="line">adapter: function (config) &#123;</span><br><span class="line">&#x2F;* ... *&#x2F;</span><br><span class="line">&#125;,</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;auth&#39;表示应该使用 HTTP 基本认证，并提供凭据。</span><br><span class="line">&#x2F;&#x2F; 这将设置一个&#96;Authorization&#39;头，覆盖任何现有的&#96;Authorization&#39;自定义头，使用&#96;headers&#96;设置。</span><br><span class="line">auth: &#123;</span><br><span class="line">username: &#39;janedoe&#39;,</span><br><span class="line">password: &#39;s00pers3cret&#39;</span><br><span class="line">&#125;,</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; “responseType”表示服务器将响应的数据类型</span><br><span class="line">&#x2F;&#x2F; 包括 &#39;arraybuffer&#39;, &#39;blob&#39;, &#39;document&#39;, &#39;json&#39;, &#39;text&#39;, &#39;stream&#39;</span><br><span class="line">responseType: &#39;json&#39;, &#x2F;&#x2F; default</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F;&#96;xsrfCookieName&#96;是要用作 xsrf 令牌的值的cookie的名称</span><br><span class="line">xsrfCookieName: &#39;XSRF-TOKEN&#39;, &#x2F;&#x2F; default</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;xsrfHeaderName&#96;是携带xsrf令牌值的http头的名称</span><br><span class="line">xsrfHeaderName: &#39;X-XSRF-TOKEN&#39;, &#x2F;&#x2F; default</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;onUploadProgress&#96;允许处理上传的进度事件</span><br><span class="line">onUploadProgress: function (progressEvent) &#123;</span><br><span class="line">&#x2F;&#x2F; 使用本地 progress 事件做任何你想要做的</span><br><span class="line">&#125;,</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;onDownloadProgress&#96;允许处理下载的进度事件</span><br><span class="line">onDownloadProgress: function (progressEvent) &#123;</span><br><span class="line">&#x2F;&#x2F; Do whatever you want with the native progress event</span><br><span class="line">&#125;,</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;maxContentLength&#96;定义允许的http响应内容的最大大小</span><br><span class="line">maxContentLength: 2000,</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;validateStatus&#96;定义是否解析或拒绝给定的promise</span><br><span class="line">&#x2F;&#x2F; HTTP响应状态码。如果&#96;validateStatus&#96;返回&#96;true&#96;（或被设置为&#96;null&#96; promise将被解析;否则，promise将被</span><br><span class="line">  &#x2F;&#x2F; 拒绝。</span><br><span class="line">validateStatus: function (status) &#123;</span><br><span class="line">return status &gt;&#x3D; 200 &amp;&amp; status &lt; 300; &#x2F;&#x2F; default</span><br><span class="line">&#125;,</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;maxRedirects&#96;定义在node.js中要遵循的重定向的最大数量。</span><br><span class="line">&#x2F;&#x2F; 如果设置为0，则不会遵循重定向。</span><br><span class="line">maxRedirects: 5, &#x2F;&#x2F; 默认</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#96;httpAgent&#96;和&#96;httpsAgent&#96;用于定义在node.js中分别执行http和https请求时使用的自定义代理。</span><br><span class="line">&#x2F;&#x2F; 允许配置类似&#96;keepAlive&#96;的选项，</span><br><span class="line">&#x2F;&#x2F; 默认情况下不启用。</span><br><span class="line">httpAgent: new http.Agent(&#123; keepAlive: true &#125;),</span><br><span class="line">httpsAgent: new https.Agent(&#123; keepAlive: true &#125;),</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; &#39;proxy&#39;定义代理服务器的主机名和端口</span><br><span class="line">&#x2F;&#x2F; &#96;auth&#96;表示HTTP Basic auth应该用于连接到代理，并提供credentials。</span><br><span class="line">&#x2F;&#x2F; 这将设置一个&#96;Proxy-Authorization&#96; header，覆盖任何使用&#96;headers&#96;设置的现有的&#96;Proxy-Authorization&#96; 自定义 headers。</span><br><span class="line">proxy: &#123;</span><br><span class="line">host: &#39;127.0.0.1&#39;,</span><br><span class="line">port: 9000,</span><br><span class="line">auth: : &#123;</span><br><span class="line">username: &#39;mikeymike&#39;,</span><br><span class="line">password: &#39;rapunz3l&#39;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; “cancelToken”指定可用于取消请求的取消令牌</span><br><span class="line">&#x2F;&#x2F; (see Cancellation section below for details)</span><br><span class="line">cancelToken: new CancelToken(function (cancel) &#123;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用 then 时，将收到如下响应：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">axios.get(&#39;&#x2F;user&#x2F;12345&#39;)</span><br><span class="line">.then(function(response) &#123;</span><br><span class="line">console.log(response.data);</span><br><span class="line">console.log(response.status);</span><br><span class="line">console.log(response.statusText);</span><br><span class="line">console.log(response.headers);</span><br><span class="line">console.log(response.config);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
<li><p>配置默认值<br>1、全局axios默认值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">axios.defaults.baseURL &#x3D; &#39;https:&#x2F;&#x2F;api.example.com&#39;;</span><br><span class="line">axios.defaults.headers.common[&#39;Authorization&#39;] &#x3D; AUTH_TOKEN;</span><br><span class="line">axios.defaults.headers.post[&#39;Content-Type&#39;] &#x3D; &#39;application&#x2F;x-www-form-urlencoded&#39;;</span><br></pre></td></tr></table></figure>
<p>2、自定义实例默认值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;在创建实例时设置配置默认值</span><br><span class="line">var instance &#x3D; axios.create（&#123;</span><br><span class="line">   baseURL：&#39;https:&#x2F;&#x2F;api.example.com&#39;</span><br><span class="line">&#125;）;</span><br><span class="line">&#x2F;&#x2F;在实例创建后改变默认值</span><br><span class="line">instance.defaults.headers.common [&#39;Authorization&#39;] &#x3D; AUTH_TOKEN;</span><br></pre></td></tr></table></figure>
<p>3、配置优先级顺序<br>配置将与优先顺序合并。 顺序是lib / defaults.js中的库默认值，然后是实例的defaults属性，最后是请求的config参数。 后者将优先于前者。 这里有一个例子。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;使用库提供的配置默认值创建实例</span><br><span class="line">&#x2F;&#x2F;此时，超时配置值为&#96;0&#96;，这是库的默认值</span><br><span class="line">var instance &#x3D; axios.create（）;</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F;覆盖库的超时默认值</span><br><span class="line">&#x2F;&#x2F;现在所有请求将在超时前等待2.5秒</span><br><span class="line">instance.defaults.timeout &#x3D; 2500;</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F;覆盖此请求的超时，因为它知道需要很长时间</span><br><span class="line">instance.get(&#39;&#x2F; longRequest&#39;，&#123;</span><br><span class="line">   timeout：5000</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
<li><p>拦截器<br>你可以截取请求或响应在被 then 或者 catch 处理之前</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;添加请求拦截器</span><br><span class="line">axios.interceptors.request.use(function(config)&#123;</span><br><span class="line">     &#x2F;&#x2F;在发送请求之前做某事</span><br><span class="line">     return config;</span><br><span class="line">   &#125;，function（error）&#123;</span><br><span class="line">     &#x2F;&#x2F;请求错误时做些事</span><br><span class="line">     return Promise.reject(error);</span><br><span class="line">   &#125;);</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F;添加响应拦截器</span><br><span class="line">axios.interceptors.response.use(function(response)&#123;</span><br><span class="line">     &#x2F;&#x2F;对响应数据做些事</span><br><span class="line">     return response;</span><br><span class="line">   &#125;，function(error)&#123;</span><br><span class="line">     &#x2F;&#x2F;请求错误时做些事</span><br><span class="line">     return Promise.reject（error）;</span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure>
<p>如果你以后可能需要删除拦截器。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var myInterceptor &#x3D; axios.interceptors.request.use(function () &#123;&#x2F;*...*&#x2F;&#125;);</span><br><span class="line">axios.interceptors.request.eject(myInterceptor);</span><br></pre></td></tr></table></figure>
<p>你可以将拦截器添加到axios的自定义实例。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var instance &#x3D; axios.create();</span><br><span class="line">instance.interceptors.request.use(function () &#123;&#x2F;*...*&#x2F;&#125;);</span><br></pre></td></tr></table></figure></li>
<li><p>处理错误</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">axios.get(&#39;&#x2F; user &#x2F; 12345&#39;)</span><br><span class="line">   .catch(function(error)&#123;</span><br><span class="line">     if(error.response)&#123;</span><br><span class="line">       &#x2F;&#x2F;请求已发出，但服务器使用状态代码进行响应</span><br><span class="line">       &#x2F;&#x2F;落在2xx的范围之外</span><br><span class="line">       console.log（error.response.data）;</span><br><span class="line">       console.log（error.response.status）;</span><br><span class="line">       console.log（error.response.headers）;</span><br><span class="line">     &#125; else &#123;</span><br><span class="line">       &#x2F;&#x2F;在设置触发错误的请求时发生了错误</span><br><span class="line">       console.log（&#39;Error&#39;，error.message）;</span><br><span class="line">     &#125;&#125;</span><br><span class="line">     console.log（error.config）;</span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure>
<p>您可以使用validateStatus配置选项定义自定义HTTP状态码错误范围。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">axios.get(&#39;&#x2F; user &#x2F; 12345&#39;，&#123;</span><br><span class="line">   validateStatus：function（status）&#123;</span><br><span class="line">     return status &lt; 500; &#x2F;&#x2F;仅当状态代码大于或等于500时拒绝</span><br><span class="line">   &#125;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li><p>消除<br>您可以使用取消令牌取消请求。<br>axios cancel token API基于可取消的promise提议，目前处于阶段1<br>您可以使用CancelToken.source工厂创建一个取消令牌，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var CancelToken &#x3D; axios.CancelToken;</span><br><span class="line">var source &#x3D; CancelToken.source（）;</span><br><span class="line"> </span><br><span class="line">axios.get(&#39;&#x2F;user&#x2F;12345&#39;, &#123;</span><br><span class="line">cancelToken: source.token</span><br><span class="line">&#125;).catch(function(thrown) &#123;</span><br><span class="line">if (axios.isCancel(thrown)) &#123;</span><br><span class="line">console.log(&#39;Request canceled&#39;, thrown.message);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">&#x2F;&#x2F; 处理错误</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F;取消请求（消息参数是可选的）</span><br><span class="line"></span><br><span class="line">source.cancel（&#39;操作被用户取消。&#39;）;</span><br></pre></td></tr></table></figure>
<p>您还可以通过将执行器函数传递给CancelToken构造函数来创建取消令牌：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var CancelToken &#x3D; axios.CancelToken;</span><br><span class="line">var cancel;</span><br><span class="line"> </span><br><span class="line">axios.get（&#39;&#x2F; user &#x2F; 12345&#39;，&#123;</span><br><span class="line">   cancelToken：new CancelToken（function executor（c）&#123;</span><br><span class="line">     &#x2F;&#x2F;一个执行器函数接收一个取消函数作为参数</span><br><span class="line">     cancel &#x3D; c;</span><br><span class="line">   &#125;）</span><br><span class="line">&#125;）;</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; 取消请求</span><br><span class="line">clear();</span><br></pre></td></tr></table></figure>
<p>注意：您可以使用相同的取消令牌取消几个请求。</p>
</li>
<li><p>使用application / x-www-form-urlencoded格式<br>默认情况下，axios将JavaScript对象序列化为JSON。 要以应用程序/ x-www-form-urlencoded格式发送数据，您可以使用以下选项之一。</p>
</li>
</ul>
<p>1、浏览器<br>在浏览器中，您可以使用URLSearchParams API，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var params &#x3D; new URLSearchParams();</span><br><span class="line">params.append(&#39;param1&#39;, &#39;value1&#39;);</span><br><span class="line">params.append(&#39;param2&#39;, &#39;value2&#39;);</span><br><span class="line">axios.post(&#39;&#x2F;foo&#39;, params);</span><br></pre></td></tr></table></figure>
<p>请注意，所有浏览器都不支持URLSearchParams，但是有一个polyfill可用（确保polyfill全局环境）。<br>或者，您可以使用qs库对数据进行编码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var qs &#x3D; require(&#39;qs&#39;);</span><br><span class="line">axios.post(&#39;&#x2F;foo&#39;, qs.stringify(&#123; &#39;bar&#39;: 123 &#125;);</span><br></pre></td></tr></table></figure>
<p>2、Node.js<br>在node.js中，可以使用querystring模块，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var querystring &#x3D; require(&#39;querystring&#39;);</span><br><span class="line">axios.post(&#39;http:&#x2F;&#x2F;something.com&#x2F;&#39;, querystring.stringify(&#123; foo: &#39;bar&#39; &#125;);</span><br></pre></td></tr></table></figure>
<p>3、TypeScript<br>axios包括TypeScript定义。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import axios from &#39;axios&#39;;</span><br><span class="line">axios.get(&#39;&#x2F;user?ID&#x3D;12345&#39;);</span><br></pre></td></tr></table></figure>
<p>axios在很大程度上受到Angular提供的$http服务的启发。 最终，axios努力提供一个在Angular外使用的独立的$http-like服务。</p>
<h2 id="vue-resource和axios的区别"><a href="#vue-resource和axios的区别" class="headerlink" title="vue-resource和axios的区别"></a>vue-resource和axios的区别</h2><p>vue-resources不再更新了，vue作者尤大推荐axios。</p>
<ul>
<li>axios<br>在浏览器里建立XHR<br>通过nodejs进行http请求<br>转换或者拦截请求数据或响应数据<br>支持Promise的API<br>可以取消请求<br>自动转换JSON<br>可以防御XSRF攻击！</li>
<li>vue-resources<br>只提供了浏览器版本</li>
</ul>
</div><div class="article-tags size-small is-uppercase mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/vue/">vue</a><a class="link-muted mr-2" rel="tag" href="/tags/ajax/">ajax</a></div><div class="bdsharebuttonbox"><a class="bds_more" href="#" data-cmd="more"></a><a class="bds_qzone" href="#" data-cmd="qzone" title="分享到QQ空间"></a><a class="bds_tsina" href="#" data-cmd="tsina" title="分享到新浪微博"></a><a class="bds_tqq" href="#" data-cmd="tqq" title="分享到腾讯微博"></a><a class="bds_renren" href="#" data-cmd="renren" title="分享到人人网"></a><a class="bds_weixin" href="#" data-cmd="weixin" title="分享到微信"></a></div><script>window._bd_share_config = { "common": { "bdSnsKey": {}, "bdText": "", "bdMini": "2", "bdPic": "", "bdStyle": "0", "bdSize": "16" }, "share": {} }; with (document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];</script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button is-info donate"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/alipay.jpg" alt="支付宝"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/04/20/TCP-UDP/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">TCP&amp;UDP</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/04/07/summary/"><span class="level-item">Java基础知识点</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div id="lv-container" data-id="city" data-uid="MTAyMC80OTU1OC8yNjA0OQ=="><script>(function(d, s) {
            var j, e = d.getElementsByTagName(s)[0];

            if (typeof LivereTower === 'function') { return; }

            j = d.createElement(s);
            j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
            j.async = true;

            e.parentNode.insertBefore(j, e);
        })(document, 'script');</script><noscript>Please activate JavaScript for write a comment in LiveRe</noscript></div></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="/img/avatar.png" alt="Jenson"></figure><p class="title is-size-4 is-block line-height-inherit">Jenson</p><p class="is-size-6 is-block">djc053418@163.com</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>广东 广州</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">12</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">7</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">17</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/jensondong" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/jensondong"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/IDE/"><span class="level-start"><span class="level-item">IDE</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Vue/"><span class="level-start"><span class="level-item">Vue</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Web%E5%89%8D%E7%AB%AF/"><span class="level-start"><span class="level-item">Web前端</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB/"><span class="level-start"><span class="level-item">前后端分离</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"><span class="level-start"><span class="level-item">后端开发</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/"><span class="level-start"><span class="level-item">计算机网络基础</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-09-21T05:48:34.503Z">2020-09-21</time></p><p class="title is-6"><a class="link-muted" href="/2020/09/21/MySQL45%E8%AE%B2/">MySQL45讲</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-07T14:38:49.000Z">2020-05-07</time></p><p class="title is-6"><a class="link-muted" href="/2020/05/07/vscode/">VsCode的使用</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/IDE/">IDE</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-29T14:29:34.000Z">2020-04-29</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/29/webpack/">Webpack</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-23T15:05:35.000Z">2020-04-23</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/23/network-layer/">网络层</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/">计算机网络基础</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-20T05:10:05.000Z">2020-04-20</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/20/TCP-UDP/">TCP&amp;UDP</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/">计算机网络基础</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/09/"><span class="level-start"><span class="level-item">九月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">五月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">四月 2020</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/03/"><span class="level-start"><span class="level-item">三月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/API%E6%96%87%E6%A1%A3%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7/"><span class="tag">API文档自动生成工具</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Elasticsearch/"><span class="tag">Elasticsearch</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/IP%E5%8D%8F%E8%AE%AE/"><span class="tag">IP协议</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java%E5%9F%BA%E7%A1%80/"><span class="tag">Java基础</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MVVM/"><span class="tag">MVVM</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Spring-MVC/"><span class="tag">Spring MVC</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TCP/"><span class="tag">TCP</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UDP/"><span class="tag">UDP</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VsCode/"><span class="tag">VsCode</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Vue/"><span class="tag">Vue</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Webpack/"><span class="tag">Webpack</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ajax/"><span class="tag">ajax</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mvvm/"><span class="tag">mvvm</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vue/"><span class="tag">vue</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB/"><span class="tag">前后端分离</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%80%BB%E7%BB%93/"><span class="tag">总结</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A/"><span class="tag">数据绑定</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="订阅"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo1.jpg" alt="Jenson&#039;s blog" height="28"></a><p class="size-small"><span>&copy; 2020 Jenson</span>  </p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://yoursite.com',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>